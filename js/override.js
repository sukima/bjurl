/*
 * This overrides the fetch function to mock real ajax calls.
 */

Site.postings = [
    {nick:"Arlene",message:"Do not argue with an idiot. He will drag you down to his level and beat you with experience. <a href=\"#\">http://example.link/</a>"},
    {nick:"Bret",message:"I want to die peacefully in my sleep, like my grandfather.. Not screaming and yelling like the passengers in his car. <a href=\"#\">http://example.link/</a>"},
    {nick:"Cindy",message:"I asked God for a bike, but I know God doesn't work that way. So I stole a bike and asked for forgiveness. <a href=\"#\">http://example.link/</a>"},
    {nick:"Don",message:"Sex is not the answer. Sex is the question. \"Yes\" is the answer. <a href=\"#\">http://example.link/</a>"},
    {nick:"Emily",message:"Going to church doesn't make you a Christian any more than standing in a garage makes you a car. <a href=\"#\">http://example.link/</a>"},
    {nick:"Franklin",message:"We live in a society where pizza gets to your house before the police. <a href=\"#\">http://example.link/</a>"},
    {nick:"Gert",message:"Women might be able to fake orgasms. But men can fake a whole relationship. <a href=\"#\">http://example.link/</a>"},
    {nick:"Harvey",message:"The last thing I want to do is hurt you. But it's still on the list. <a href=\"#\">http://example.link/</a>"},
    {nick:"Irene",message:"Light travels faster than sound. This is why some people appear bright until you hear them speak. <a href=\"#\">http://example.link/</a>"},
    {nick:"Jose",message:"If I agreed with you we'd both be wrong. <a href=\"#\">http://example.link/</a>"},
    {nick:"Katia",message:"Men have two emotions: Hungry and Horny. If you see him without an erection, make him a sandwich. <a href=\"#\">http://example.link/</a>"},
    {nick:"Lee",message:"We never really grow up, we only learn how to act in public. <a href=\"#\">http://example.link/</a>"},
    {nick:"Maria",message:"War does not determine who is right - only who is left. <a href=\"#\">http://example.link/</a>"},
    {nick:"Nate",message:"Knowledge is knowing a tomato is a fruit; Wisdom is not putting it in a fruit salad. <a href=\"#\">http://example.link/</a>"},
    {nick:"Ophelia",message:"Children: You spend the first 2 years of their life teaching them to walk and talk. Then you spend the next 16 years telling them to sit down and shut-up. <a href=\"#\">http://example.link/</a>"},
    {nick:"Philippe",message:"Politicians and diapers have one thing in common. They should both be changed regularly, and for the same reason. <a href=\"#\">http://example.link/</a>"},
    {nick:"Rina",message:"My mother never saw the irony in calling me a son-of-a-bitch. <a href=\"#\">http://example.link/</a>"},
    {nick:"Sean",message:"Having sex is like playing bridge. If you don't have a good partner, you'd better have a good hand. <a href=\"#\">http://example.link/</a>"},
    {nick:"Tammy",message:"The early bird might get the worm, but the second mouse gets the cheese. <a href=\"#\">http://example.link/</a>"},
    {nick:"Vince",message:"Evening news is where they begin with 'Good evening', and then proceed to tell you why it isn't. <a href=\"#\">http://example.link/</a>"},
    {nick:"Whitney",message:"Fighting for peace is like fornicating for virginity. <a href=\"#\">http://example.link/</a>"},
    {nick:"Alberto",message:"If sex is a pain in the ass, then you're doing it wrong... <a href=\"#\">http://example.link/</a>"},
    {nick:"Beryl",message:"To steal ideas from one person is plagiarism. To steal from many is research. <a href=\"#\">http://example.link/</a>"},
    {nick:"Chris",message:"If God is watching us, the least we can do is be entertaining. <a href=\"#\">http://example.link/</a>"},
    {nick:"Debby",message:"If 4 out of 5 people SUFFER from diarrhea... does that mean that one enjoys it? <a href=\"#\">http://example.link/</a>"},
    {nick:"Ernesto",message:"If you think nobody cares if you're alive, try missing a couple of payments. <a href=\"#\">http://example.link/</a>"},
    {nick:"Florence",message:"Better to remain silent and be thought a fool, than to speak and remove all doubt. <a href=\"#\">http://example.link/</a>"},
    {nick:"Gordon",message:"How is it one careless match can start a forest fire, but it takes a whole box to start a campfire? <a href=\"#\">http://example.link/</a>"},
    {nick:"Helene",message:"A bus station is where a bus stops. A train station is where a train stops. On my desk, I have a work station.. <a href=\"#\">http://example.link/</a>"},
    {nick:"Isaac",message:"Some people are like Slinkies ... not really good for anything, but you can't help smiling when you see one tumble down the stairs. <a href=\"#\">http://example.link/</a>"},
    {nick:"Joyce",message:"Did you know that dolphins are so smart that within a few weeks of captivity, they can train people to stand on the very edge of the pool and throw them fish? <a href=\"#\">http://example.link/</a>"},
    {nick:"Kirk",message:"A bank is a place that will lend you money, if you can prove that you don't need it. <a href=\"#\">http://example.link/</a>"},
    {nick:"Leslie",message:"I thought I wanted a career, turns out I just wanted paychecks. <a href=\"#\">http://example.link/</a>"},
    {nick:"Michael",message:"Never, under any circumstances, take a sleeping pill and a laxative on the same night. <a href=\"#\">http://example.link/</a>"},
    {nick:"Nadine",message:"Whenever I fill out an application, in the part that says \"If an emergency, notify:\" I put \"DOCTOR\". What's my mother going to do? <a href=\"#\">http://example.link/</a>"},
    {nick:"Oscar",message:"I didn't fight my way to the top of the food chain to be a vegetarian <a href=\"#\">http://example.link/</a>"},
    {nick:"Patty",message:"A computer once beat me at chess, but it was no match for me at kick boxing. <a href=\"#\">http://example.link/</a>"},
    {nick:"Rafael",message:"I didn't say it was your fault, I said I was blaming you. <a href=\"#\">http://example.link/</a>"},
    {nick:"Sandy",message:"I saw a woman wearing a sweat shirt with \"Guess\" on it...so I said \"Implants?\" <a href=\"#\">http://example.link/</a>"},
    {nick:"Tony",message:"The shinbone is a device for finding furniture in a dark room. <a href=\"#\">http://example.link/</a>"},
    {nick:"Valerie",message:"Why does someone believe you when you say there are four billion stars, but check when you say the paint is wet? <a href=\"#\">http://example.link/</a>"},
    {nick:"William",message:"The sole purpose of a child's middle name, is so he can tell when he's really in trouble. <a href=\"#\">http://example.link/</a>"},
    {nick:"Andrea",message:"God must love stupid people. He made SO many. <a href=\"#\">http://example.link/</a>"},
    {nick:"Barry",message:"Women will never be equal to men until they can walk down the street with a bald head and a beer gut, and still think they are sexy. <a href=\"#\">http://example.link/</a>"},
    {nick:"Chantal",message:"Good girls are bad girls that never get caught. <a href=\"#\">http://example.link/</a>"},
    {nick:"Dorian",message:"Behind every successful man is his woman. Behind the fall of a successful man is usually another woman. <a href=\"#\">http://example.link/</a>"},
    {nick:"Erin",message:"Some people say \"If you can't beat them, join them\". I say \"If you can't beat them, beat them\", because they will be expecting you to join them, so you will have the element of surprise. <a href=\"#\">http://example.link/</a>"},
    {nick:"Fernand",message:"Why do Americans choose from just two people to run for president and 50 for Miss America? <a href=\"#\">http://example.link/</a>"},
    {nick:"Gabrielle",message:"Crowded elevators smell different to midgets. <a href=\"#\">http://example.link/</a>"},
    {nick:"Humberto",message:"You do not need a parachute to skydive. You only need a parachute to skydive twice. <a href=\"#\">http://example.link/</a>"},
    {nick:"Ingrid",message:"The voices in my head may not be real, but they have some good ideas! <a href=\"#\">http://example.link/</a>"},
    {nick:"Jerry",message:"A clear conscience is usually the sign of a bad memory. <a href=\"#\">http://example.link/</a>"},
    {nick:"Karen",message:"The main reason Santa is so jolly is because he knows where all the bad girls live. <a href=\"#\">http://example.link/</a>"},
    {nick:"Lorenzo",message:"Laugh at your problems, everybody else does. <a href=\"#\">http://example.link/</a>"},
    {nick:"Melissa",message:"Never get into fights with ugly people, they have nothing to lose. <a href=\"#\">http://example.link/</a>"},
    {nick:"Nestor",message:"It's not the fall that kills you; it's the sudden stop at the end. <a href=\"#\">http://example.link/</a>"},
    {nick:"Olga",message:"Artificial intelligence is no match for natural stupidity. <a href=\"#\">http://example.link/</a>"},
    {nick:"Pablo",message:"Always borrow money from a pessimist. He won't expect it back. <a href=\"#\">http://example.link/</a>"},
    {nick:"Rebekah",message:"He who smiles in a crisis has found someone to blame. <a href=\"#\">http://example.link/</a>"},
    {nick:"Sebastien",message:"A diplomat is someone who can tell you to go to hell in such a way that you will look forward to the trip. <a href=\"#\">http://example.link/</a>"},
    {nick:"Tanya",message:"We have enough gun control. What we need is idiot control. <a href=\"#\">http://example.link/</a>"},
    {nick:"Van",message:"Hospitality: making your guests feel like they're at home, even if you wish they were. <a href=\"#\">http://example.link/</a>"},
    {nick:"Wendy",message:"My opinions may have changed, but not the fact that I am right. <a href=\"#\">http://example.link/</a>"},
    {nick:"Arthur",message:"Money can't buy happiness, but it sure makes misery easier to live with. <a href=\"#\">http://example.link/</a>"},
    {nick:"Bertha",message:"When in doubt, mumble. <a href=\"#\">http://example.link/</a>"},
    {nick:"Cristobal",message:"I discovered I scream the same way whether I'm about to be devoured by a great white shark or if a piece of seaweed touches my foot. <a href=\"#\">http://example.link/</a>"},
    {nick:"Dolly",message:"I intend to live forever. So far, so good. <a href=\"#\">http://example.link/</a>"},
    {nick:"Edouard",message:"Women may not hit harder, but they hit lower. <a href=\"#\">http://example.link/</a>"},
    {nick:"Fay",message:"A little boy asked his father, \"Daddy, how much does it cost to get married?\" Father replied, \"I don't know son, I'm still paying.\" <a href=\"#\">http://example.link/</a>"},
    {nick:"Gonzalo",message:"Worrying works! 90% of the things I worry about never happen. <a href=\"#\">http://example.link/</a>"},
    {nick:"Hanna",message:"Just remember...if the world didn't suck, we'd all fall off. <a href=\"#\">http://example.link/</a>"},
    {nick:"Isaias",message:"My psychiatrist told me I was crazy and I said I want a second opinion. He said okay, you're ugly too. <a href=\"#\">http://example.link/</a>"},
    {nick:"Josephine",message:"Some cause happiness wherever they go. Others whenever they go. <a href=\"#\">http://example.link/</a>"},
    {nick:"Kyle",message:"Jesus loves you, but everyone else thinks you're an asshole. <a href=\"#\">http://example.link/</a>"},
    {nick:"Laura",message:"I don't trust anything that bleeds for five days and doesn't die. <a href=\"#\">http://example.link/</a>"},
    {nick:"Marco",message:"I like work. It fascinates me. I sit and look at it for hours. <a href=\"#\">http://example.link/</a>"},
    {nick:"Nana",message:"I should've known it wasn't going to work out between my ex-wife and me. After all, I'm a Libra and she's a bitch. <a href=\"#\">http://example.link/</a>"},
    {nick:"Omar",message:"I always take life with a grain of salt, ...plus a slice of lemon, ...and a shot of tequila. <a href=\"#\">http://example.link/</a>"},
    {nick:"Paulette",message:"Never hit a man with glasses. Hit him with a baseball bat. <a href=\"#\">http://example.link/</a>"},
    {nick:"Rene",message:"There's a fine line between cuddling and holding someone down so they can't get away. <a href=\"#\">http://example.link/</a>"},
    {nick:"Sally",message:"I used to be indecisive. Now I'm not sure. <a href=\"#\">http://example.link/</a>"},
    {nick:"Teddy",message:"You're never too old to learn something stupid. <a href=\"#\">http://example.link/</a>"},
    {nick:"Vicky",message:"When tempted to fight fire with fire, remember that the Fire Department usually uses water. <a href=\"#\">http://example.link/</a>"},
    {nick:"Wilfred",message:"You are such a good friend that if we were on a sinking ship together and there was only one life jacket... I'd miss you heaps and think of you often. <a href=\"#\">http://example.link/</a>"},
    {nick:"Ana",message:"I got in a fight one time with a really big guy, and he said, \"I'm going to mop the floor with your face.\" I said, \"You'll be sorry.\" He said, \"Oh, yeah? Why?\" I said, \"Well, you won't be able to get into the corners very well.\" <a href=\"#\">http://example.link/</a>"},
    {nick:"Bill",message:"Knowledge is power, and power corrupts. So study hard and be evil. <a href=\"#\">http://example.link/</a>"},
    {nick:"Claudette",message:"Does this rag smell like chloroform to you? <a href=\"#\">http://example.link/</a>"},
    {nick:"Danny",message:"With sufficient thrust, pigs fly just fine. <a href=\"#\">http://example.link/</a>"},
    {nick:"Erika",message:"To be sure of hitting the target, shoot first and call whatever you hit the target. <a href=\"#\">http://example.link/</a>"},
    {nick:"Fred",message:"A bargain is something you don't need at a price you can't resist. <a href=\"#\">http://example.link/</a>"},
    {nick:"Grace",message:"Some people hear voices.. Some see invisible people.. Others have no imagination whatsoever. <a href=\"#\">http://example.link/</a>"},
    {nick:"Henri",message:"A TV can insult your intelligence, but nothing rubs it in like a computer. <a href=\"#\">http://example.link/</a>"},
    {nick:"Ida",message:"If winning isn't everything why do they keep score? <a href=\"#\">http://example.link/</a>"},
    {nick:"Joaquin",message:"Virginity is like a soapbubble, one prick and it is gone. <a href=\"#\">http://example.link/</a>"},
    {nick:"Kate",message:"If at first you don't succeed, skydiving is not for you! <a href=\"#\">http://example.link/</a>"},
    {nick:"Larry",message:"A bus is a vehicle that runs twice as fast when you are after it as when you are in it. <a href=\"#\">http://example.link/</a>"},
    {nick:"Mindy",message:"Hallmark Card: \"I'm so miserable without you, it's almost like you're still here.\" <a href=\"#\">http://example.link/</a>"},
    {nick:"Nicholas",message:"Whoever coined the phrase \"Quiet as a mouse\" has never stepped on one. <a href=\"#\">http://example.link/</a>"},
    {nick:"Odette",message:"If you are supposed to learn from your mistakes, why do some people have more than one child. <a href=\"#\">http://example.link/</a>"},
    {nick:"Peter",message:"Change is inevitable, except from a vending machine. <a href=\"#\">http://example.link/</a>"},
    {nick:"Rose",message:"You know the world is going crazy when the best rapper is a white guy, the best golfer is a black guy, the tallest guy in the NBA is Chinese, the Swiss hold the America's Cup, France is accusing the U.S. of arrogance, Germany doesn't want to go to war, and the three most powerful men in America are named 'Bush', 'Dick', and 'Colon'. Need I say more? <a href=\"#\">http://example.link/</a>"},
    {nick:"Sam",message:"After (M)onday and (T)uesday even the week says WTF !! <a href=\"#\">http://example.link/</a>"},
    {nick:"Teresa",message:"Why is it that most nudists are people you don't want to see naked? <a href=\"#\">http://example.link/</a>"},
    {nick:"Victor",message:"What's the difference between a northern fairytale and a southern fairytale? A northern fairytale begins \"Once upon a time...\" A southern fairytale begins \"Y'all ain't gonna believe this...\" <a href=\"#\">http://example.link/</a>"},
    {nick:"Wanda",message:"George washington said \"We would have a black president when pigs fly!\"... well, swine flu. <a href=\"#\">http://example.link/</a>"},
    {nick:"Alex",message:"I don't suffer from insanity. I enjoy every minute of it. <a href=\"#\">http://example.link/</a>"},
    {nick:"Bonnie",message:"Haikus are easy. But sometimes they don't make sense. Refrigerator. <a href=\"#\">http://example.link/</a>"},
    {nick:"Colin",message:"I have never understood why women love cats. Cats are independent, they don't listen, they don't come in when you call, they like to stay out all night, and when they're home they like to be left alone and sleep. In other words, every quality that women hate in a man, they love in a cat. <a href=\"#\">http://example.link/</a>"},
    {nick:"Danielle",message:"When you go into court, you are putting your fate into the hands of people who weren't smart enough to get out of jury duty. <a href=\"#\">http://example.link/</a>"},
    {nick:"Earl",message:"The big difference between sex for money and sex for free is that sex for money usually costs a lot less. <a href=\"#\">http://example.link/</a>"},
    {nick:"Fiona",message:"Children seldom misquote you. In fact, they usually repeat word for word what you shouldn't have said. <a href=\"#\">http://example.link/</a>"},
    {nick:"Gaston",message:"If Bill Gates had a penny for every time I had to reboot my computer...oh wait, he does. <a href=\"#\">http://example.link/</a>"},
    {nick:"Hermine",message:"Some mistakes are too much fun to only make once. <a href=\"#\">http://example.link/</a>"},
    {nick:"Ian",message:"Deja Vu - When you think you're doing something you've done before, it's because God thought it was so funny, he had to rewind it for his friends. <a href=\"#\">http://example.link/</a>"},
    {nick:"Julia",message:"Life's a bitch, 'cause if it was a slut, it'd be easy. <a href=\"#\">http://example.link/</a>"},
    {nick:"Karl",message:"Good health is merely the slowest possible rate at which one can die. <a href=\"#\">http://example.link/</a>"},
    {nick:"Lisa",message:"I don't have an attitude problem. You have a perception problem. <a href=\"#\">http://example.link/</a>"},
    {nick:"Matthew",message:"Keep the dream alive: Hit the snooze button. <a href=\"#\">http://example.link/</a>"},
    {nick:"Nicole",message:"You know your children are growing up when they stop asking you where they came from and refuse to tell you where they're going. <a href=\"#\">http://example.link/</a>"},
    {nick:"Otto",message:"Children in the dark make accidents, but accidents in the dark make children. <a href=\"#\">http://example.link/</a>"},
    {nick:"Paula",message:"Girls are like roads, more the curves, more the dangerous they are. <a href=\"#\">http://example.link/</a>"},
    {nick:"Richard",message:"Does time fly when you're having sex or was it really just one minute? <a href=\"#\">http://example.link/</a>"},
    {nick:"Shary",message:"Who was the first to see a cow and think \"I wonder what will happen if I squeeze these dangly things and drink whatever comes out?\" <a href=\"#\">http://example.link/</a>"},
    {nick:"Tobias",message:"You know, they got a luggage store in the airport? A place to buy a piece of luggage? How late do you have to be for a flight where you're like, 'Screw it - just grab a pile of junk. We'll get a bag at the airport'. <a href=\"#\">http://example.link/</a>"},
    {nick:"Virginie",message:"According to a new survey, women say they feel more comfortable undressing in front of men than they do undressing in front of other women. They say that women are too judgmental, where, of course, men are just grateful. <a href=\"#\">http://example.link/</a>"},
    {nick:"Walter",message:"If you can stay calm while all around you is chaos, then you probably haven't completely understood the situation."}
];

Site.random_posting = function() {
    var index = Math.floor(Math.random() * Site.postings.length);
    var post = Site.postings[index];
    post.time = new Date();
    return post;
}

Site.init_demo = function() {
    Site.populate();
    Site.continueCycle();
};

Site.fetch = null;
Site.fetch = function() {
    var d;
    var rnd = Math.random()*101;
    if (Site.timmer !== null) {
        clearTimeout(Site.timmer);
        Site.timmer = null;
    }
    if (Site.running) {
        d = Site.data;
        if (rnd > 15) {
            d.push(Site.random_posting());
            Site.success(d);
        } else if (rnd > 10) {
            Site.data = [ ];
            Site.success(d);
        } else {
            Site.error(null, "", "(This is a fake error for demonstration)");
        }
    } else {
        // populate initial three.
        d = [ ];
        d.unshift(Site.random_posting());
        d.unshift(Site.random_posting());
        d.unshift(Site.random_posting());
        Site.data = d;
        setTimeout(Site.init_demo, 3000);
    }
    return false;
};
